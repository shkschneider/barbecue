{{ template "_header.html" }}

<main>
    <form method="post">
    <article>
        {{ if .Parent }}
            <header>
                <a href="/{{ .Parent.Slug }}">{{ .Parent.Title }}</a>
            </header>
        {{ else if .Task }}
            <header class="flex">
                <a href="/{{ .Task.Slug }}">{{ .Task.Title }}</a>
                <a href="#" onClick="document.getElementById('modal').showModal()">
                    <kbd>delete</kbd>
                </a>
                <dialog id="modal">
                    <article>
                        Delete <b>{{ .Task.Title }}</b>?
                        <footer>
                            <button class="secondary" onClick="document.getElementById('modal').close()" autofocus>Cancel</button>
                            <button onClick="location.href='/{{ .Task.Slug }}/delete'">Confirm</button>
                        </footer>
                    </article>
                </dialog>
            </header>
        {{ end }}
        <main>
            {{ if .Task }}
                <input type="text" name="title" placeholder="Title..." value="{{ .Task.Title }}" required/>
                <textarea name="description" placeholder="Description...">{{ .Task.Description }}</textarea>
            {{ else }}
                <input type="text" name="title" placeholder="Title..." required/>
                <textarea name="description" placeholder="Description..."></textarea>
            {{ end }}
        </main>
    </article>
    <footer>
        <input type="submit" value="+" />
    </footer>
    </form>
</main>

{{ template "_footer.html" }}
